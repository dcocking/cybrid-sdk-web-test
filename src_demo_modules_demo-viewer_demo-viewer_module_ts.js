"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([["src_demo_modules_demo-viewer_demo-viewer_module_ts"],{5404:(J,y,i)=>{i.r(y),i.d(y,{DemoViewerModule:()=>B});var g=i(6895),l=i(4931),c=i(4006),T=i(4004),f=i(7579),d=i(2722),m=i(8505),p=i(9386),S=i(8842),V=i(422),e=i(4650);let v=(()=>{class o{constructor(){this.route=new f.x,this.route$=this.route.asObservable()}updateRoute(t){this.route.next(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var w=i(1679),G=i(7769),R=i(529),$=i(4859),O=i(9549),L=i(4385),P=i(3238),Z=i(266);function F(o,s){if(1&o&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&o){const t=s.$implicit,n=e.oxw();e.Q6J("value",t)("disabled",n.isDisabled(t))("matTooltip",n.getTooltip(t)),e.xp6(1),e.hij(" ",t," ")}}function N(o,s){if(1&o&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}let x=(()=>{class o{constructor(t,n,r,a,u,h,D){this.demoViewerService=t,this.activatedRoute=n,this.configService=r,this.authService=a,this.location=u,this.http=h,this.router=D,this.languageList=p.gT.SUPPORTED_LOCALES,this.componentList=p.gT.COMPONENTS_PLAID,this.languageGroup=new c.cw({language:new c.NI(p.gT.DEFAULT_CONFIG.locale)}),this.componentGroup=new c.cw({component:new c.NI(this.activatedRoute.snapshot)}),this.message="",this.config=p.gT.DEFAULT_CONFIG,this.version$=this.http.get(p.gT.REPO_URL).pipe((0,T.U)(C=>Object(C).tag_name)),this.unsubscribe$=new f.x,this.configService.config$.pipe((0,d.R)(this.unsubscribe$)).subscribe(C=>this.config=C),console.log(`demo-viewer: ${this.location.path(!0)}`)}ngOnInit(){this.initComponentGroup(),this.initLanguageGroup()}isBackstopped(){return this.config.features.includes(V.mS.FeaturesEnum.BackstoppedFundingSource)}getTooltip(t){return"account-details"==t?"Disabled: Navigate via account-list":this.authService.customer==S.N.credentials.publicCustomerGuid&&"identity-verification"==t?"Disabled: Sign in as a private user to access":this.isBackstopped()&&this.isDisabled(t)?"Component is unavailable to backstopped banks":""}isDisabled(t){return"account-details"==t||this.authService.customer==S.N.credentials.publicCustomerGuid&&"identity-verification"==t||!!this.isBackstopped()&&!p.gT.COMPONENTS_BACKSTOPPED.includes(t)}initComponentGroup(){this.componentGroup.get("component")?.valueChanges.pipe((0,d.R)(this.unsubscribe$),(0,m.b)(t=>this.router.navigate([`demo/${t}`]))).subscribe(),this.demoViewerService.route$.pipe((0,m.b)(t=>this.componentGroup.get("component")?.patchValue(t,{emitEvent:!1,onlySelf:!0}))).subscribe()}initLanguageGroup(){this.languageGroup.get("language")?.valueChanges.pipe((0,d.R)(this.unsubscribe$),(0,m.b)(t=>this.configService.setConfig({...this.config,locale:t}))).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v),e.Y36(l.gz),e.Y36(w.E),e.Y36(G.e),e.Y36(g.Ye),e.Y36(R.eN),e.Y36(l.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-sdk"]],decls:18,vars:7,consts:[[1,"package"],["mat-button","","href","https://www.npmjs.com/package/@cybrid/cybrid-sdk-ui-js","target","_blank"],[1,"controls"],[3,"formGroup"],["appearance","outline"],["id","component","formControlName","component"],["id","option","matTooltipPosition","before",3,"value","disabled","matTooltip",4,"ngFor","ngForOf"],["formControlName","language"],[3,"value",4,"ngFor","ngForOf"],["id","option","matTooltipPosition","before",3,"value","disabled","matTooltip"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"a",1),e._uU(2),e.ALo(3,"async"),e.qZA()(),e.TgZ(4,"div",2),e.ynx(5,3),e.TgZ(6,"mat-form-field",4)(7,"mat-label"),e._uU(8,"Component"),e.qZA(),e.TgZ(9,"mat-select",5),e.YNc(10,F,2,4,"mat-option",6),e.qZA()(),e.BQk(),e.ynx(11,3),e.TgZ(12,"mat-form-field",4)(13,"mat-label"),e._uU(14,"Language"),e.qZA(),e.TgZ(15,"mat-select",7),e.YNc(16,N,2,2,"mat-option",8),e.qZA()(),e.BQk(),e.qZA(),e._UZ(17,"router-outlet")),2&t&&(e.xp6(2),e.Oqu("cybrid-sdk-ui-js@ "+e.lcZ(3,5,n.version$)),e.xp6(3),e.Q6J("formGroup",n.componentGroup),e.xp6(5),e.Q6J("ngForOf",n.componentList),e.xp6(1),e.Q6J("formGroup",n.languageGroup),e.xp6(5),e.Q6J("ngForOf",n.languageList))},dependencies:[g.sg,l.lC,c.JJ,c.JL,c.sg,c.u,$.zs,O.KE,O.hX,L.gD,P.ey,Z.gM,g.Ov],styles:[".controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:-1rem}.controls[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1;margin-left:1rem}.package[_ngcontent-%COMP%]{display:flex;justify-content:end;margin-bottom:1rem}"]}),o})();var A=i(4707),b=i(9841),E=i(5698);const U=["outlet"],Y=[{path:"",component:x,children:[{path:":id",component:(()=>{class o{constructor(t,n,r,a,u){this.demoViewerService=t,this.activatedRoute=n,this.configService=r,this._renderer2=a,this.window=u,this.sdk=new A.t(1),this.sdk$=this.sdk.asObservable().pipe(),this.auth=this.window.localStorage.getItem("customer"),this.unsubscribe$=new f.x}ngAfterViewInit(){(0,b.a)([this.activatedRoute.params,this.configService.config]).pipe((0,E.q)(1),(0,T.U)(t=>{const[n,r]=t,a=this._renderer2.createElement("cybrid-app");return this._renderer2.setProperty(a,"auth",this.auth),this._renderer2.setProperty(a,"config",r),this._renderer2.setProperty(a,"component",n.id),this._renderer2.listen(a,"eventLog",u=>{console.log(u.detail);const h=u.detail;"ROUTING_END"===h.code&&this.demoViewerService.updateRoute(h.data.default)}),this._renderer2.listen(a,"errorLog",u=>console.error(u.detail)),this._renderer2.appendChild(this.outlet?.nativeElement,a),a}),(0,m.b)(t=>this.sdk.next(t))).subscribe(),(0,b.a)([this.activatedRoute.params,this.sdk$]).pipe((0,d.R)(this.unsubscribe$),(0,m.b)(t=>{const[n,r]=t;this._renderer2.setProperty(r,"component",n.id)})).subscribe(),(0,b.a)([this.configService.config,this.sdk$]).pipe((0,d.R)(this.unsubscribe$),(0,m.b)(t=>{const[n,r]=t;this._renderer2.setProperty(r,"config",n)})).subscribe()}ngOnDestroy(){this.unsubscribe$.next(""),this.unsubscribe$.complete()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v),e.Y36(l.gz),e.Y36(w.E),e.Y36(e.Qsj),e.Y36(Window))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-demo-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(U,5),2&t){let r;e.iGM(r=e.CRH())&&(n.outlet=r.first)}},decls:2,vars:0,consts:[["outlet",""]],template:function(t,n){1&t&&e._UZ(0,"div",null,0)}}),o})()}]}];let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild(Y),l.Bz]}),o})();var j=i(962);let B=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[v],imports:[g.ez,M,c.UX,j.q]}),o})()}}]);